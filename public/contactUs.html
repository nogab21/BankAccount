<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <nav>
        <div class=" nav-box"> <a href="./">דף הבית</a> </div>
        <div class=" nav-box"><a href="./about">אודותינו</a></div>
        <div class=" nav-box"><a href="./contactUs">צור קשר</a></div>
        <div class=" nav-box"><a href="./logIn">התחבר</a></div>
        <div class=" nav-box"><a href="./signUp">הרשם</a></div>
  </nav>
  <div id="contact" class="login-box">
    <form id="contactForm">
        <h2>רוצים ליצור איתנו קשר?</h2>
     <h3>תשאירו פרטים ונפנה אליכם בהקדם</h3>
     <label for=" ">שם פרטי</label>
     <input type="text" name="firstName" placeholder="הכנס שם פרטי" />
     <label for="">שם משפחה</label>
     <input type="text" name="secondName" placeholder="הכנס שם משפחה"/>
     <label for="">מייל </label>
     <input type="email" name="eMail" placeholder="הכנס אי מייל"/>
     <label for="">הודעה</label>
     <input type="text" name="message" placeholder="כתבו את המסר שלכם אלינו"/>
     <input type="submit" value="שלח את הפרטים כדי שנחזור אליך בהקדם">
    </form>
     
  </div>
  <footer>
    <div class="footer-column">
        <h3>עקבו אחרינו</h3>
        <p>לחיוג: 012356789</p>
        <p>אינסטגרם: barkannoga</p>
        <p>אימייל: kept@biond.mind</p>

      </div>
    
      <div class="footer-column">
        <h3>ניווט מהיר</h3>
        <ul>
          <ul><a href="./index">דף הבית</a></ul>
          <ul><a href="./about">אודותינו</a></ul>
          <ul><a href="./contactUs">צור קשר</a></ul>
          <ul><a href="./logIn">התחבר</a></ul>
          <ul><a href="./signUp">הרשם</a></ul>
        </ul>
      </div>
</footer>
<script>
  document.getElementById('contactForm').addEventListener('submit', async function (e) {
  e.preventDefault();

  const form = e.target;
  const data = {
    firstName: form.firstName.value,
    secondName: form.secondName.value,
    eMail: form.eMail.value,
    message: form.message.value
  };

  try {
    const res = await fetch('/contactUs', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json' 
      },
      body: JSON.stringify(data)
    });

    if (!res.ok) {
      const err = await res.json();
      alert(err.error || "אירעה שגיאה לא ידועה");
      return;
    }

    const result = await res.json(); 
    alert(result.message);
    form.reset();

  } catch (err) {
    alert("אירעה שגיאה בשליחה");
    console.error(err);
  }
});

 
</script>
</body>
</html>